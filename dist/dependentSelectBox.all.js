!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("DependentSelectBox",[],e):"object"==typeof exports?exports.DependentSelectBox=e():t.DependentSelectBox=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return u}));var r="data-disallow-submit-when-disabled",i="data-dependent-data-link",o="data-has-dependent-listener",a="data-parents",s="data-dependent-select-box",l="dependentSelectBoxLoaded",c="dependentSelectBoxLoading",u="["+s+"]"},function(t,e,n){"use strict";var r=n(0),i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(t){var e=Number(t);return Number.isNaN(e)?t:e},a=function(t){var e,n,o=t.form,a=t.getAttribute(r.a);if(o&&null!==a)try{for(var s=i(o.elements),l=s.next();!l.done;l=s.next()){var c=l.value;c!==t&&(c.disabled=t.disabled&&"submit"===c.type)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(t){if(function(t){return"checkbox"===t.type?t.name.includes("[]"):"radio"===t.type||Boolean(t.multiple)}(t))return function(t){var e,n,r,a,s=[];if(t instanceof HTMLSelectElement)try{for(var l=i(t.selectedOptions),c=l.next();!c.done;c=l.next()){var u=c.value;s.push(o(u.value))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}if(["checkbox","radio"].includes(t.type)){var d=document.querySelectorAll('input[name="'+t.name+'"]');try{for(var f=i(d),p=f.next();!p.done;p=f.next()){var h=p.value;h.checked&&s.push(o(h.value))}}catch(t){r={error:t}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}}return s.length?s:null}(t);if("checkbox"===t.type)return t.checked;var e=t.value.trim();return"textarea"===t.type?e:""===e?null:o(e)},c=function(t){var e=t.getAttribute(r.c);return e?JSON.parse(e):[]},u=function(t,e){var n,r,i={};try{for(var o=s(e),a=o.next();!a.done;a=o.next()){var c=a.value,u=t.elements.namedItem(c);u&&(i[u.name]=l(u))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},d=function(t){return null!==t.getAttribute(r.d)},f=function(t){return t.setAttribute(r.d,"true")},p=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},h=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},b=function(t){var e=this;this.handleResponse=function(t,n,i){for(var o in i){var s=document.getElementById(o);s.disabled=i[o].disabled,s.innerHTML=i[o].options,a(s)}var l=new CustomEvent(r.f,{detail:{form:t,dependentSelectBoxes:n,response:i}});e.naja.dispatchEvent(l)},this.handleRequest=function(t,n,i){return p(e,void 0,Promise,(function(){var e,o,a;return h(this,(function(s){switch(s.label){case 0:if(!(e=t.getAttribute(r.b)))throw new Error('Form "'+t.id+'" must have "data-dependent-data-link" attribute!');return o=new CustomEvent(r.g,{detail:{form:t,dependentSelectBoxes:n,request:i}}),this.naja.dispatchEvent(o),[4,this.naja.makeRequest("POST",e,JSON.stringify(i),{fetch:{headers:{"Content-Type":"application/json"}},history:!1})];case 1:return a=s.sent(),this.handleResponse(t,n,a),[2]}}))}))},this.naja=t},v=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},y=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},m=function(t,e,n,r){var i,o,a,s,l=[];try{for(var d=v(n),f=d.next();!f.done;f=d.next()){var p=f.value;r.includes(p.id)||l.push(p.id);try{for(var h=(a=void 0,v(c(p))),b=h.next();!b.done;b=h.next()){var m=b.value;l.includes(m)||l.push(m)}}catch(t){a={error:t}}finally{try{b&&!b.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}var w=u(t,y(y([],g(r)),g(l)));return{trigger:e.id,values:w}},w=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(t){var e=this;this.addListeners=function(t,n,r){var i=["change"];e.isParentTextBased(t)&&i.push("keydown"),i.forEach((function(i){return t.addEventListener(i,e.handleChange(n,r))})),f(t)},this.findParent=function(t){return document.getElementById(t)},this.findSelectBoxes=function(){return Array.from(document.querySelectorAll(r.h))},this.handleChange=function(t,n){return function(r){var i,o,a=r.target,s=a.form;try{for(var l=w(n),u=l.next();!u.done;u=l.next()){var d=u.value,f=c(d);d.disabled=f.includes(a.id)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}var p=e.getFormSelectBoxes(s,n);e.requestManager.handleRequest(s,p,m(s,a,p,t))}},this.getFormSelectBoxes=function(t,e){return e.filter((function(e){return e.form===t}))},this.isParentTextBased=function(t){return["text","number","textarea"].includes(t.type)},this.requestManager=new b(t)},T=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O=function(){var t=this;this.initialize=function(e){t.domManager=new E(e),e.addEventListener("init",t.load),e.addEventListener("complete",t.load),e.snippetHandler.addEventListener("afterUpdate",t.load)},this.load=function(){var e,n,r=t.domManager.findSelectBoxes();try{for(var i=T(r),o=i.next();!o.done;o=i.next()){var s=o.value,l=c(s);l.forEach(t.initParent(l,r)),a(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},this.initParent=function(e,n){return function(r){var i=t.domManager.findParent(r);null===i||d(i)||t.domManager.addListeners(i,e,n)}}};e.a=O},function(t,e,n){"use strict";(function(t){var r=n(4),i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?l(t):e}function u(t){var e=s();return function(){var n,r=o(t);if(e){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=d(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var p=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(e,[{key:"addEventListener",value:function(t,e,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:n})}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],r=0,i=n.length;r<i;r++)if(n[r].callback===e)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){for(var e=this.listeners[t.type].slice(),n=0,r=e.length;n<r;n++){var i=e[n];try{i.callback.call(this,t)}catch(t){Promise.resolve().then((function(){throw t}))}i.options&&i.options.once&&this.removeEventListener(t.type,i.callback)}return!t.defaultPrevented}}}]),e}(),h=function(e){r(a,e);var i=u(a);function a(){var e;return t(this,a),(e=i.call(this)).listeners||p.call(l(e)),Object.defineProperty(l(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return n(a,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(a.prototype),"dispatchEvent",this).call(this,t)}}]),a}(p),b=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return n(e,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();function v(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}function g(t){"function"==typeof t&&(t={fetch:t});var e=t,n=e.fetch,r=e.Request,i=void 0===r?n.Request:r,o=e.AbortController,a=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=void 0!==a&&a;if(!v({fetch:n,Request:i,AbortController:o,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:n,Request:l};var l=i;(l&&!l.prototype.hasOwnProperty("signal")||s)&&((l=function(t,e){var n;e&&e.signal&&(n=e.signal,delete e.signal);var r=new i(t,e);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r}).prototype=i.prototype);var c=n;return{fetch:function(t,e){var n=l&&l.prototype.isPrototypeOf(t)?t.signal:e?e.signal:void 0;if(n){var r;try{r=new DOMException("Aborted","AbortError")}catch(t){(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var i=new Promise((function(t,e){n.addEventListener("abort",(function(){return e(r)}),{once:!0})}));return e&&e.signal&&delete e.signal,Promise.race([i,c(t,e)])}return c(t,e)},Request:l}}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(b.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),function(t){if(v(t))if(t.fetch){var e=g(t),n=e.fetch,r=e.Request;t.fetch=n,t.Request=r,Object.defineProperty(t,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:b}),Object.defineProperty(t,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:h})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}("undefined"!=typeof self?self:i)}();try{new window.EventTarget}catch(t){window.EventTarget=r.EventTarget}class o extends Error{}const a=(t,e)=>{if(!t){throw new o("Assertion failed"+(void 0!==e?`: ${e}`:"."))}};class s extends EventTarget{constructor(t){super(),this.naja=t,this.selector=".ajax",this.allowedOrigins=[window.location.origin],this.handler=this.handleUI.bind(this),t.addEventListener("init",this.initialize.bind(this))}initialize(){this.bindUI(window.document.body),this.naja.snippetHandler.addEventListener("afterUpdate",(t=>{const{snippet:e}=t.detail;this.bindUI(e)}))}bindUI(t){const e=[`a${this.selector}`,`input[type="submit"]${this.selector}`,`input[type="image"]${this.selector}`,`button[type="submit"]${this.selector}`,`form${this.selector} input[type="submit"]`,`form${this.selector} input[type="image"]`,`form${this.selector} button[type="submit"]`].join(", "),n=t=>{t.removeEventListener("click",this.handler),t.addEventListener("click",this.handler)},r=t.querySelectorAll(e);for(let t=0;t<r.length;t++)n(r.item(t));t.matches(e)&&n(t);const i=t=>{t.removeEventListener("submit",this.handler),t.addEventListener("submit",this.handler)};t.matches(`form${this.selector}`)&&i(t);const o=t.querySelectorAll(`form${this.selector}`);for(let t=0;t<o.length;t++)i(o.item(t))}handleUI(t){const e=t;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||e.button)return;const n=t.currentTarget,r={},i=()=>{};"submit"===t.type?this.submitForm(n,r,t).catch(i):"click"===t.type&&this.clickElement(n,r,e).catch(i)}async clickElement(t,e={},n){var r,i,o,s,l,c;let u,d="GET",f="";if(!this.dispatchEvent(new CustomEvent("interaction",{cancelable:!0,detail:{element:t,originalEvent:n,options:e}})))return null==n||n.preventDefault(),{};if("A"===t.tagName)a(t instanceof HTMLAnchorElement),d="GET",f=t.href,u=null;else if("INPUT"===t.tagName||"BUTTON"===t.tagName){a(t instanceof HTMLInputElement||t instanceof HTMLButtonElement);const{form:e}=t;if(d=null!==(s=null!==(i=null===(r=t.getAttribute("formmethod"))||void 0===r?void 0:r.toUpperCase())&&void 0!==i?i:null===(o=null==e?void 0:e.getAttribute("method"))||void 0===o?void 0:o.toUpperCase())&&void 0!==s?s:"GET",f=null!==(c=null!==(l=t.getAttribute("formaction"))&&void 0!==l?l:null==e?void 0:e.getAttribute("action"))&&void 0!==c?c:window.location.pathname+window.location.search,u=new FormData(null!=e?e:void 0),"submit"===t.type||"BUTTON"===t.tagName)u.append(t.name,t.value||"");else if("image"===t.type){const e=t.getBoundingClientRect();u.append(`${t.name}.x`,Math.max(0,Math.floor(void 0!==n?n.pageX-e.left:0))),u.append(`${t.name}.y`,Math.max(0,Math.floor(void 0!==n?n.pageY-e.top:0)))}}if(!this.isUrlAllowed(f))throw new Error(`Cannot dispatch async request, URL is not allowed: ${f}`);return null==n||n.preventDefault(),this.naja.makeRequest(d,f,u,e)}async submitForm(t,e={},n){var r,i,o;if(!this.dispatchEvent(new CustomEvent("interaction",{cancelable:!0,detail:{element:t,originalEvent:n,options:e}})))return null==n||n.preventDefault(),{};const a=null!==(i=null===(r=t.getAttribute("method"))||void 0===r?void 0:r.toUpperCase())&&void 0!==i?i:"GET",s=null!==(o=t.getAttribute("action"))&&void 0!==o?o:window.location.pathname+window.location.search,l=new FormData(t);if(!this.isUrlAllowed(s))throw new Error(`Cannot dispatch async request, URL is not allowed: ${s}`);return null==n||n.preventDefault(),this.naja.makeRequest(a,s,l,e)}isUrlAllowed(t){const e=new URL(t,location.href);return"null"!==e.origin&&this.allowedOrigins.includes(e.origin)}}class l{constructor(t){this.naja=t,t.addEventListener("init",this.initialize.bind(this)),t.uiHandler.addEventListener("interaction",this.processForm.bind(this))}initialize(){this.initForms(window.document.body),this.naja.snippetHandler.addEventListener("afterUpdate",(t=>{const{snippet:e}=t.detail;this.initForms(e)}))}initForms(t){const e=this.netteForms||window.Nette;if(e){"form"===t.tagName&&e.initForm(t);const n=t.querySelectorAll("form");for(let t=0;t<n.length;t++)e.initForm(n.item(t))}}processForm(t){const{element:e,originalEvent:n}=t.detail,r=e;void 0!==r.form&&null!==r.form&&(r.form["nette-submittedBy"]=e);const i=this.netteForms||window.Nette;"FORM"!==e.tagName&&!e.form||!i||i.validateForm(e)||(n&&(n.stopImmediatePropagation(),n.preventDefault()),t.preventDefault())}}class c extends EventTarget{constructor(t){super(),this.naja=t,t.uiHandler.addEventListener("interaction",(t=>{var e,n,r;const{element:i,options:o}=t.detail;if(i&&(i.hasAttribute("data-naja-force-redirect")||(null===(e=i.form)||void 0===e?void 0:e.hasAttribute("data-naja-force-redirect")))){const t=null!==(n=i.getAttribute("data-naja-force-redirect"))&&void 0!==n?n:null===(r=i.form)||void 0===r?void 0:r.getAttribute("data-naja-force-redirect");o.forceRedirect="off"!==t}})),t.addEventListener("success",(t=>{var e;const{payload:n,options:r}=t.detail;n.redirect&&(this.makeRedirect(n.redirect,null!==(e=r.forceRedirect)&&void 0!==e&&e,r),t.stopImmediatePropagation())})),this.locationAdapter={assign:t=>window.location.assign(t)}}makeRedirect(t,e,n={}){t instanceof URL&&(t=t.href);let r=e||!this.naja.uiHandler.isUrlAllowed(t);this.dispatchEvent(new CustomEvent("redirect",{cancelable:!0,detail:{url:t,isHardRedirect:r,setHardRedirect(t){r=!!t},options:n}}))&&(r?this.locationAdapter.assign(t):this.naja.makeRequest("GET",t,null,n))}}class u extends EventTarget{constructor(t){super(),this.naja=t,this.op={replace:(t,e)=>{t.innerHTML=e},prepend:(t,e)=>t.insertAdjacentHTML("afterbegin",e),append:(t,e)=>t.insertAdjacentHTML("beforeend",e)},t.addEventListener("success",(t=>{const{options:e,payload:n}=t.detail;n.snippets&&this.updateSnippets(n.snippets,!1,e)}))}updateSnippets(t,e=!1,n={}){Object.keys(t).forEach((r=>{const i=document.getElementById(r);i&&this.updateSnippet(i,t[r],e,n)}))}updateSnippet(t,e,n,r){let i=this.op.replace;!t.hasAttribute("data-naja-snippet-prepend")&&!t.hasAttribute("data-ajax-prepend")||n?!t.hasAttribute("data-naja-snippet-append")&&!t.hasAttribute("data-ajax-append")||n||(i=this.op.append):i=this.op.prepend;this.dispatchEvent(new CustomEvent("beforeUpdate",{cancelable:!0,detail:{snippet:t,content:e,fromCache:n,operation:i,changeOperation(t){i=t},options:r}}))&&("title"===t.tagName.toLowerCase()?document.title=e:i(t,e),this.dispatchEvent(new CustomEvent("afterUpdate",{cancelable:!0,detail:{snippet:t,content:e,fromCache:n,operation:i,options:r}})))}}class d{constructor(t){this.naja=t,this.href=null,this.popStateHandler=this.handlePopState.bind(this),this.uiCache=!0,t.addEventListener("init",this.initialize.bind(this)),t.addEventListener("before",this.saveUrl.bind(this)),t.addEventListener("success",this.pushNewState.bind(this)),t.uiHandler.addEventListener("interaction",this.configureMode.bind(this)),this.historyAdapter={replaceState:(t,e,n)=>window.history.replaceState(t,e,n),pushState:(t,e,n)=>window.history.pushState(t,e,n)}}initialize(t){const{defaultOptions:e}=t.detail;"historyUiCache"in e&&void 0!==e.historyUiCache&&(this.uiCache=e.historyUiCache),window.addEventListener("popstate",this.popStateHandler),this.historyAdapter.replaceState(this.buildState(window.location.href,this.uiCache),window.document.title,window.location.href)}handlePopState(t){t.state&&(t.state.ui?(this.handleSnippets(t.state.ui),this.handleTitle(t.state.title)):!1===t.state.ui&&this.naja.makeRequest("GET",t.state.href,null,{history:!1,historyUiCache:!1}))}saveUrl(t){const{url:e}=t.detail;this.href=e}configureMode(t){var e,n,r,i,o,a;const{element:s,options:l}=t.detail;if(s){if(s.hasAttribute("data-naja-history")||(null===(e=s.form)||void 0===e?void 0:e.hasAttribute("data-naja-history"))){const t=null!==(n=s.getAttribute("data-naja-history"))&&void 0!==n?n:null===(r=s.form)||void 0===r?void 0:r.getAttribute("data-naja-history");l.history=d.normalizeMode(t)}if(s.hasAttribute("data-naja-history-cache")||(null===(i=s.form)||void 0===i?void 0:i.hasAttribute("data-naja-history-nocache"))){const t=null!==(o=s.getAttribute("data-naja-history-cache"))&&void 0!==o?o:null===(a=s.form)||void 0===a?void 0:a.getAttribute("data-naja-history-cache");l.historyUiCache="off"!==t}}}static normalizeMode(t){return"off"!==t&&!1!==t&&("replace"!==t||"replace")}pushNewState(t){const{payload:e,options:n}=t.detail,r=d.normalizeMode(n.history);if(!1===r)return;e.postGet&&e.url&&(this.href=e.url);const i="replace"===r?"replaceState":"pushState",o=!0===n.historyUiCache||!1!==n.historyUiCache&&this.uiCache;this.historyAdapter[i](this.buildState(this.href,o),window.document.title,this.href),this.href=null}buildState(t,e){const n={href:t};return e?(n.title=window.document.title,n.ui=this.findSnippets()):n.ui=!1,n}findSnippets(){const t={},e=window.document.querySelectorAll('[id^="snippet-"]');for(let n=0;n<e.length;n++){const r=e.item(n);r.hasAttribute("data-naja-history-nocache")||r.hasAttribute("data-history-nocache")||(t[r.id]=r.innerHTML)}return t}handleSnippets(t){this.naja.snippetHandler.updateSnippets(t,!0),this.naja.scriptLoader.loadScripts(t)}handleTitle(t){window.document.title=t}}class f{constructor(t){t.addEventListener("success",(t=>{const{payload:e}=t.detail;e.snippets&&this.loadScripts(e.snippets)}))}loadScripts(t){Object.keys(t).forEach((e=>{const n=t[e];if(!/<script/i.test(n))return;const r=window.document.createElement("div");r.innerHTML=n;const i=r.querySelectorAll("script");for(let t=0;t<i.length;t++){const e=i.item(t),n=window.document.createElement("script");if(n.innerHTML=e.innerHTML,e.hasAttributes()){const t=e.attributes;for(let e=0;e<t.length;e++){const r=t[e].name;n.setAttribute(r,t[e].value)}}window.document.head.appendChild(n).parentNode.removeChild(n)}}))}}class p extends EventTarget{constructor(t,e,n,r,i,o){super(),this.VERSION=2,this.initialized=!1,this.extensions=[],this.defaultOptions={},this.uiHandler=t?new t(this):new s(this),this.redirectHandler=e?new e(this):new c(this),this.snippetHandler=n?new n(this):new u(this),this.formsHandler=r?new r(this):new l(this),this.historyHandler=i?new i(this):new d(this),this.scriptLoader=o?new o(this):new f(this)}registerExtension(t){this.initialized&&t.initialize(this),this.extensions.push(t)}initialize(t={}){if(this.initialized)throw new Error("Cannot initialize Naja, it is already initialized.");this.defaultOptions=t,this.extensions.forEach((t=>t.initialize(this))),this.dispatchEvent(new CustomEvent("init",{detail:{defaultOptions:t}})),this.initialized=!0}async makeRequest(t,e,n=null,r={}){"string"==typeof e&&(e=new URL(e,location.href)),r=Object.assign(Object.assign(Object.assign({},this.defaultOptions),r),{fetch:Object.assign(Object.assign({},this.defaultOptions.fetch||{}),r.fetch||{})});const i=new Headers(r.fetch.headers||{}),o=this.transformData(e,t,n),a=new AbortController,s=new Request(e.toString(),Object.assign(Object.assign({credentials:"same-origin"},r.fetch),{method:t,headers:i,body:o,signal:a.signal}));if(s.headers.set("X-Requested-With","XMLHttpRequest"),!this.dispatchEvent(new CustomEvent("before",{cancelable:!0,detail:{request:s,method:t,url:e.toString(),data:n,options:r}})))return{};const l=window.fetch(s);let c,u;this.dispatchEvent(new CustomEvent("start",{detail:{request:s,promise:l,abortController:a,options:r}}));try{if(c=await l,!c.ok)throw new h(c);u=await c.json()}catch(t){if("AbortError"===t.name)return this.dispatchEvent(new CustomEvent("abort",{detail:{request:s,error:t,options:r}})),this.dispatchEvent(new CustomEvent("complete",{detail:{request:s,response:c,payload:void 0,error:t,options:r}})),{};throw this.dispatchEvent(new CustomEvent("error",{detail:{request:s,response:c,error:t,options:r}})),this.dispatchEvent(new CustomEvent("complete",{detail:{request:s,response:c,payload:void 0,error:t,options:r}})),t}return this.dispatchEvent(new CustomEvent("success",{detail:{request:s,response:c,payload:u,options:r}})),this.dispatchEvent(new CustomEvent("complete",{detail:{request:s,response:c,payload:u,error:void 0,options:r}})),u}appendToQueryString(t,e,n){if(null!=n)if(Array.isArray(n)){let r=0;for(const i of n)this.appendToQueryString(t,`${e}[${r++}]`,i)}else if(Object.getPrototypeOf(n)===Object.prototype)for(const[r,i]of Object.entries(n))this.appendToQueryString(t,`${e}[${r}]`,i);else t.append(e,String(n))}transformData(t,e,n){const r=["GET","HEAD"].includes(e.toUpperCase());if(r&&n instanceof FormData){for(const[e,r]of n)null!=r&&t.searchParams.append(e,String(r));return null}if(null!==n&&Object.getPrototypeOf(n)===Object.prototype){const e=r?t.searchParams:new URLSearchParams;for(const[t,r]of Object.entries(n))this.appendToQueryString(e,t,r);return r?null:e}return n}}class h extends Error{constructor(t){const e=`HTTP ${t.status}: ${t.statusText}`;super(e),this.name=this.constructor.name,this.stack=new Error(e).stack,this.response=t}}const b=new p;b.registerExtension(new class{constructor(){this.abortable=!0,this.abortController=null}initialize(t){t.uiHandler.addEventListener("interaction",this.checkAbortable.bind(this)),t.addEventListener("init",this.onInitialize.bind(this)),t.addEventListener("before",this.checkAbortable.bind(this)),t.addEventListener("start",this.saveAbortController.bind(this)),t.addEventListener("complete",this.clearAbortController.bind(this))}onInitialize(){document.addEventListener("keydown",(t=>{null!==this.abortController&&"Escape"===t.key&&!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)&&this.abortable&&(this.abortController.abort(),this.abortController=null)}))}checkAbortable(t){var e,n;const{options:r}=t.detail;this.abortable="element"in t.detail?"off"!==(null!==(e=t.detail.element.getAttribute("data-naja-abort"))&&void 0!==e?e:null===(n=t.detail.element.form)||void 0===n?void 0:n.getAttribute("data-naja-abort")):!1!==r.abort,r.abort=this.abortable}saveAbortController(t){const{abortController:e}=t.detail;this.abortController=e}clearAbortController(){this.abortController=null,this.abortable=!0}}),b.registerExtension(new class{constructor(){this.abortControllers=new Map}initialize(t){t.uiHandler.addEventListener("interaction",this.checkUniqueness.bind(this)),t.addEventListener("start",this.abortPreviousRequest.bind(this)),t.addEventListener("complete",this.clearRequest.bind(this))}checkUniqueness(t){var e,n;const{element:r,options:i}=t.detail,o=null!==(e=r.getAttribute("data-naja-unique"))&&void 0!==e?e:null===(n=r.form)||void 0===n?void 0:n.getAttribute("data-naja-unique");i.unique="off"!==o&&(null!=o?o:"default")}abortPreviousRequest(t){var e,n,r;const{abortController:i,options:o}=t.detail;!1!==o.unique&&(null===(n=this.abortControllers.get(null!==(e=o.unique)&&void 0!==e?e:"default"))||void 0===n||n.abort(),this.abortControllers.set(null!==(r=o.unique)&&void 0!==r?r:"default",i))}clearRequest(t){var e;const{request:n,options:r}=t.detail;n.signal.aborted||!1===r.unique||this.abortControllers.delete(null!==(e=r.unique)&&void 0!==e?e:"default")}}),e.a=b}).call(this,n(3))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(t,n){function r(t,e,...n){if(!t)throw new TypeError(i(e,n))}function i(t,e){let n=0;return t.replace(/%[os]/gu,(()=>o(e[n++])))}function o(t){return"object"!=typeof t||null===t?String(t):Object.prototype.toString.call(t)}let a;Object.defineProperty(e,"__esModule",{value:!0});const s="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==n?n:"undefined"!=typeof globalThis?globalThis:void 0;let l;class c{constructor(t,e){this.code=t,this.message=e}warn(...t){var e;try{if(l)return void l({...this,args:t});const n=(null!==(e=(new Error).stack)&&void 0!==e?e:"").replace(/^(?:.+?\n){2}/gu,"\n");console.warn(this.message,...t,n)}catch(t){}}}const u=new c("W01","Unable to initialize event under dispatching."),d=new c("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),f=new c("W03","Assigning any truthy value to 'returnValue' property has no effect."),p=new c("W04","Unable to preventDefault on non-cancelable events."),h=new c("W05","Unable to preventDefault inside passive event listener invocation."),b=new c("W06","An event listener wasn't added because it has been added already: %o, %o"),v=new c("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),g=new c("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),y=new c("W09","Event attribute handler must be a function: %o");class m{static get NONE(){return w}static get CAPTURING_PHASE(){return E}static get AT_TARGET(){return T}static get BUBBLING_PHASE(){return O}constructor(t,e){Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const n=null!=e?e:{};S.set(this,{type:String(t),bubbles:Boolean(n.bubbles),cancelable:Boolean(n.cancelable),composed:Boolean(n.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}get type(){return A(this).type}get target(){return A(this).target}get srcElement(){return A(this).target}get currentTarget(){return A(this).currentTarget}composedPath(){const t=A(this).currentTarget;return t?[t]:[]}get NONE(){return w}get CAPTURING_PHASE(){return E}get AT_TARGET(){return T}get BUBBLING_PHASE(){return O}get eventPhase(){return A(this).dispatchFlag?2:0}stopPropagation(){A(this).stopPropagationFlag=!0}get cancelBubble(){return A(this).stopPropagationFlag}set cancelBubble(t){t?A(this).stopPropagationFlag=!0:d.warn()}stopImmediatePropagation(){const t=A(this);t.stopPropagationFlag=t.stopImmediatePropagationFlag=!0}get bubbles(){return A(this).bubbles}get cancelable(){return A(this).cancelable}get returnValue(){return!A(this).canceledFlag}set returnValue(t){t?f.warn():R(A(this))}preventDefault(){R(A(this))}get defaultPrevented(){return A(this).canceledFlag}get composed(){return A(this).composed}get isTrusted(){return!1}get timeStamp(){return A(this).timeStamp}initEvent(t,e=!1,n=!1){const r=A(this);r.dispatchFlag?u.warn():S.set(this,{...r,type:String(t),bubbles:Boolean(e),cancelable:Boolean(n),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1})}}const w=0,E=1,T=2,O=3,S=new WeakMap;function A(t,e="this"){const n=S.get(t);return r(null!=n,"'%s' must be an object that Event constructor created, but got another one: %o",e,t),n}function R(t){t.inPassiveListenerFlag?h.warn():t.cancelable?t.canceledFlag=!0:p.warn()}Object.defineProperty(m,"NONE",{enumerable:!0}),Object.defineProperty(m,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(m,"AT_TARGET",{enumerable:!0}),Object.defineProperty(m,"BUBBLING_PHASE",{enumerable:!0});const j=Object.getOwnPropertyNames(m.prototype);for(let t=0;t<j.length;++t)"constructor"!==j[t]&&Object.defineProperty(m.prototype,j[t],{enumerable:!0});let L;void 0!==s&&void 0!==s.Event&&Object.setPrototypeOf(m.prototype,s.Event.prototype);const P={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function C(t){const e=Object.keys(P);for(let n=0;n<e.length;++n){const r=e[n],i=P[r];Object.defineProperty(t,r,{get:()=>i,configurable:!0,enumerable:!0})}}class _ extends m{static wrap(t){return new(N(t))(t)}constructor(t){super(t.type,{bubbles:t.bubbles,cancelable:t.cancelable,composed:t.composed}),t.cancelBubble&&super.stopPropagation(),t.defaultPrevented&&super.preventDefault(),x.set(this,{original:t});const e=Object.keys(t);for(let n=0;n<e.length;++n){const r=e[n];r in this||Object.defineProperty(this,r,F(t,r))}}stopPropagation(){super.stopPropagation();const{original:t}=k(this);"stopPropagation"in t&&t.stopPropagation()}get cancelBubble(){return super.cancelBubble}set cancelBubble(t){super.cancelBubble=t;const{original:e}=k(this);"cancelBubble"in e&&(e.cancelBubble=t)}stopImmediatePropagation(){super.stopImmediatePropagation();const{original:t}=k(this);"stopImmediatePropagation"in t&&t.stopImmediatePropagation()}get returnValue(){return super.returnValue}set returnValue(t){super.returnValue=t;const{original:e}=k(this);"returnValue"in e&&(e.returnValue=t)}preventDefault(){super.preventDefault();const{original:t}=k(this);"preventDefault"in t&&t.preventDefault()}get timeStamp(){const{original:t}=k(this);return"timeStamp"in t?t.timeStamp:super.timeStamp}}const x=new WeakMap;function k(t){const e=x.get(t);return r(null!=e,"'this' is expected an Event object, but got",t),e}const I=new WeakMap;function N(t){const e=Object.getPrototypeOf(t);if(null==e)return _;let n=I.get(e);return null==n&&(n=function(t,e){class n extends t{}const r=Object.keys(e);for(let t=0;t<r.length;++t)Object.defineProperty(n.prototype,r[t],F(e,r[t]));return n}(N(e),e),I.set(e,n)),n}function F(t,e){const n=Object.getOwnPropertyDescriptor(t,e);return{get(){const t=k(this).original,n=t[e];return"function"==typeof n?n.bind(t):n},set(t){k(this).original[e]=t},configurable:n.configurable,enumerable:n.enumerable}}function B(t){return 1==(1&t.flags)}function U(t){return 2==(2&t.flags)}function q(t){return 4==(4&t.flags)}function M(t){return 8==(8&t.flags)}function D({callback:e},n,r){try{"function"==typeof e?e.call(n,r):"function"==typeof e.handleEvent&&e.handleEvent(r)}catch(e){!function(e){try{const n=e instanceof Error?e:new Error(o(e));if(a)return void a(n);if("function"==typeof dispatchEvent&&"function"==typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:n,message:n.message}));else if(void 0!==t&&"function"==typeof t.emit)return void t.emit("uncaughtException",n);console.error(n)}catch(t){}}(e)}}function H({listeners:t},e,n){for(let r=0;r<t.length;++r)if(t[r].callback===e&&B(t[r])===n)return r;return-1}function z(t,e,n,r,i,o){let a;o&&(a=$.bind(null,t,e,n),o.addEventListener("abort",a));const s=function(t,e,n,r,i,o){return{callback:t,flags:(e?1:0)|(n?2:0)|(r?4:0),signal:i,signalListener:o}}(e,n,r,i,o,a);return t.cow?(t.cow=!1,t.listeners=[...t.listeners,s]):t.listeners.push(s),s}function $(t,e,n){const r=H(t,e,n);return-1!==r&&G(t,r)}function G(t,e,n=!1){const r=t.listeners[e];return function(t){t.flags|=8}(r),r.signal&&r.signal.removeEventListener("abort",r.signalListener),t.cow&&!n?(t.cow=!1,t.listeners=t.listeners.filter(((t,n)=>n!==e)),!1):(t.listeners.splice(e,1),!0)}function W(t,e){var n;return null!==(n=t[e])&&void 0!==n?n:t[e]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}I.set(Object.prototype,_),void 0!==s&&void 0!==s.Event&&I.set(s.Event.prototype,_);class V{constructor(){Y.set(this,Object.create(null))}addEventListener(t,e,n){const r=K(this),{callback:i,capture:o,once:a,passive:s,signal:l,type:c}=function(t,e,n){var r;if(Q(e),"object"==typeof n&&null!==n)return{type:String(t),callback:null!=e?e:void 0,capture:Boolean(n.capture),passive:Boolean(n.passive),once:Boolean(n.once),signal:null!==(r=n.signal)&&void 0!==r?r:void 0};return{type:String(t),callback:null!=e?e:void 0,capture:Boolean(n),passive:!1,once:!1,signal:void 0}}(t,e,n);if(null==i||(null==l?void 0:l.aborted))return;const u=W(r,c),d=H(u,i,o);-1===d?z(u,i,o,s,a,l):function(t,e,n,r){b.warn(B(t)?"capture":"bubble",t.callback),U(t)!==e&&v.warn("passive");q(t)!==n&&v.warn("once");t.signal!==r&&v.warn("signal")}(u.listeners[d],s,a,l)}removeEventListener(t,e,n){const r=K(this),{callback:i,capture:o,type:a}=function(t,e,n){if(Q(e),"object"==typeof n&&null!==n)return{type:String(t),callback:null!=e?e:void 0,capture:Boolean(n.capture)};return{type:String(t),callback:null!=e?e:void 0,capture:Boolean(n)}}(t,e,n),s=r[a];null!=i&&s&&$(s,i,o)}dispatchEvent(t){const e=K(this)[String(t.type)];if(null==e)return!0;const n=t instanceof m?t:_.wrap(t),r=A(n,"event");if(r.dispatchFlag)throw i="This event has been in dispatching.",s.DOMException?new s.DOMException(i,"InvalidStateError"):(null==L&&(L=class t extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,t)}get code(){return 11}get name(){return"InvalidStateError"}},Object.defineProperties(L.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),C(L),C(L.prototype)),new L(i));var i;if(r.dispatchFlag=!0,r.target=r.currentTarget=this,!r.stopPropagationFlag){const{cow:t,listeners:i}=e;e.cow=!0;for(let o=0;o<i.length;++o){const a=i[o];if(!M(a)&&(q(a)&&G(e,o,!t)&&(o-=1),r.inPassiveListenerFlag=U(a),D(a,this,n),r.inPassiveListenerFlag=!1,r.stopImmediatePropagationFlag))break}t||(e.cow=!1)}return r.target=null,r.currentTarget=null,r.stopImmediatePropagationFlag=!1,r.stopPropagationFlag=!1,r.dispatchFlag=!1,!r.canceledFlag}}const Y=new WeakMap;function K(t,e="this"){const n=Y.get(t);return r(null!=n,"'%s' must be an object that EventTarget constructor created, but got another one: %o",e,t),n}function Q(t){if("function"!=typeof t&&("object"!=typeof t||null===t||"function"!=typeof t.handleEvent)){if(null!=t&&"object"!=typeof t)throw new TypeError(i(g.message,[t]));g.warn(t)}}const X=Object.getOwnPropertyNames(V.prototype);for(let t=0;t<X.length;++t)"constructor"!==X[t]&&Object.defineProperty(V.prototype,X[t],{enumerable:!0});function J(t,e){var n,r;return null!==(r=null===(n=K(t,"target")[e])||void 0===n?void 0:n.attrCallback)&&void 0!==r?r:null}function Z(t,e,n){null!=n&&"function"!=typeof n&&y.warn(n),"function"==typeof n||"object"==typeof n&&null!==n?function(t,e,n){const r=W(K(t,"target"),String(e));r.attrCallback=n,null==r.attrListener&&(r.attrListener=z(r,function(t){return function(e){const n=t.attrCallback;"function"==typeof n&&n.call(this,e)}}(r),!1,!1,!1,void 0))}(t,e,n):function(t,e){const n=K(t,"target")[String(e)];n&&n.attrListener&&($(n,n.attrListener.callback,!1),n.attrCallback=n.attrListener=void 0)}(t,e)}function tt(t,e,n){Object.defineProperty(t,`on${e}`,{get(){return J(this,e)},set(t){Z(this,e,t)},configurable:!0,enumerable:!0})}void 0!==s&&void 0!==s.EventTarget&&Object.setPrototypeOf(V.prototype,s.EventTarget.prototype),e.Event=m,e.EventTarget=V,e.default=V,e.defineCustomEventTarget=function(...t){class e extends V{}for(let n=0;n<t.length;++n)tt(e.prototype,t[n]);return e},e.defineEventAttribute=tt,e.getEventAttributeValue=J,e.setErrorHandler=function(t){r("function"==typeof t||void 0===t,"The error handler must be a function or undefined, but got %o.",t),a=t},e.setEventAttributeValue=Z,e.setWarningHandler=function(t){r("function"==typeof t||void 0===t,"The warning handler must be a function or undefined, but got %o.",t),l=t}}).call(this,n(6),n(3))},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n(1);r.a.registerExtension(new i.a),document.addEventListener("DOMContentLoaded",r.a.initialize.bind(r.a))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var t=s(f);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function b(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=b,i.addListener=b,i.once=b,i.off=b,i.removeListener=b,i.removeAllListeners=b,i.emit=b,i.prependListener=b,i.prependOnceListener=b,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}])}));
//# sourceMappingURL=dependentSelectBox.all.js.map